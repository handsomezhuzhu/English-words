# 英语单词学习系统

## 项目介绍

这是一个用于学习和记忆英语单词的Web应用程序，主要功能包括：

- 创建和管理多个单词本
- 添加、编辑和删除单词
- 为单词添加多个翻译和词性
- 使用百度翻译API自动翻译单词
- 导出单词本为Excel文件
- 自动备份和恢复数据库

## 快速开始

### 环境要求
- Python 3.7+

### 安装步骤
1. 克隆项目仓库
2. 安装依赖：
```bash
pip install -r requirements.txt
```
3. 配置百度翻译API（详见下方「配置百度翻译API」部分）
4. 启动服务：
```bash
python app.py
```
5. 访问 http://localhost:5000 使用系统

## 配置百度翻译API

本系统使用百度翻译API进行单词翻译，使用前需要获取API密钥并进行配置：

### 获取百度翻译API密钥
1. 访问[百度翻译开放平台](https://fanyi-api.baidu.com/)并注册/登录账号
2. 在管理控制台中选择「开通服务」→「通用翻译API」
3. 填写应用名称和应用描述，选择「通用翻译（适用于文本翻译）」
4. 提交申请并等待审核通过
5. 审核通过后，在「总览」页面可以看到您的APPID和密钥

### 配置系统
1. 打开项目目录中的`config.py`文件
2. 将获取到的APPID和密钥填入对应位置：
```python
BAIDU_APPID = 'YOUR_APPID_HERE'  # 替换为您的APPID
BAIDU_APPKEY = 'YOUR_APPKEY_HERE'  # 替换为您的APPKEY
```
3. 保存文件

## 注意事项

- 默认使用5000端口，请确保端口可用
- 数据存储在SQLite数据库中，位于instance/words.db
- 导出CSV前请确保当前单词本有内容
- 删除单词本操作不可逆，请谨慎操作

## 开发说明

### 项目结构
```
app.py         # 主程序
models.py      # 数据库模型
Baidu_Text_transAPI.py  # 百度翻译API
requirements.txt  # 依赖文件
templates/      # 前端模板
instance/       # 数据库文件
```

### 数据备份与恢复

1. 备份数据库：
   - 访问 `/export_db` 路由，系统会自动下载当前数据库文件
   - 备份文件名为 `words.db`

2. 恢复数据库：
   - 将备份的 `words.db` 文件替换 `instance/words.db`
   - 重启应用即可恢复数据

### 使用注意事项

- 默认单词本无法删除
- 每个单词可以添加多个翻译
- 系统支持同时管理多个单词本
- 建议定期备份数据库文件

### 定期备份数据库

本系统支持每5次单词提交自动备份一次数据库，以确保数据的安全性。备份文件会以时间戳命名，方便您识别和管理。

#### 备份规则
- 每次提交单词时，系统会记录提交次数。
- 当提交次数达到5次时，系统会自动备份数据库。
- 备份文件名格式为 `words_backup_YYYYMMDDHHMMSS.db`，其中 `YYYYMMDDHHMMSS` 是备份时的时间戳。

#### 备份位置
备份文件会存储在 `instance` 目录下。

## 贡献指南

欢迎提交PR，请遵循以下规范：
1. 在开发分支上进行修改
2. 提交清晰的commit message
3. 确保代码风格一致